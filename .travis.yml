language: c
sudo: required

dist: xenial
os: linux

addons:
  apt:
    packages:
    # - g++-7
    - libtool-bin
    - screen

install:
- gem install mdl
- pip install proselint --user
- source .travis-deps.sh
- ls -Rl $HOME/.terminfo
- ls -Rl /etc/terminfo
- ls -Rl /usr/share/terminfo
- find / -type d -name terminfo -print
- infocmp6 -D
- infocmp -D
- infocmp xterm
- infocmp screen
- echo $TERMINFO_DIRS
- echo $TERMINFO

cache: pip

script:
- make clean
# build
- make all
- make examples
# test
- make test
# install
- sudo make install
# lint
- mdl *.md
- proselint *.md
